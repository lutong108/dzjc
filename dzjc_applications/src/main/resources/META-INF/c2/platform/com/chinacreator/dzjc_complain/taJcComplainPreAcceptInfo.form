<?xml version="1.0" encoding="UTF-8"?>
<form:Form xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dync="http://www.chinacreator.com/platform/mvc/ui/dync" xmlns:form="http://www.chinacreator.com/platform/mvc/form" name="预受理" res="" sn="dzjc_complain/taJcComplainPreAcceptInfo" type="form">
  <form:control type="page/modal">
    <form:attributes source="page/modal">
      <dync:attribute default="" group="HTML" id="width" name="页面宽度" value="80%">
        <dync:render colSpan="2" height="0" multi="false" name="text"/>
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="HTML" id="title" name="标题" value="投诉举报预受理">
        <dync:render colSpan="2" height="0" multi="false" name="text"/>
        <dync:children/>
      </dync:attribute>
    </form:attributes>
  </form:control>
  <form:child xsi:type="form:Group" id="div" name="简单容器(DIV)">
    <form:control type="container/div">
      <form:attributes source="container/div"/>
    </form:control>
    <form:child xsi:type="form:Group" id="widgetbox6" name="投诉举报人信息">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar2" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserName" id="complainUserName1" name="真实姓名">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserOrg" id="complainUserOrg1" name="单位">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserCard" id="complainUserCard1" name="身份证号码">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserMobile" id="complainUserMobile1" name="联系人手机">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="77">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserPhone" id="complainUserPhone1" name="办公电话">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainUserAddress" id="complainUserAddress1" name="地址">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="widgetbox7" name="被投诉举报人信息">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar3" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.bycomplainedOrg" id="bycomplainedOrg1" name="单位名称">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.bycomplainedUserAddress" id="bycomplainedUserAddress" name="所在地">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.bycomplainedUserOrg" id="bycomplainedUserOrg1" name="姓名">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.bycomplainedUserPhone" id="bycomplainedUserPhone1" name="电话">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="widgetbox9" name="举报信正文">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar4" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainTitle" id="complainTitle1" name="标题">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="6" group="基本设置" id="span" name="占位数" value="12">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.problemType" id="problemType1" name="问题类型">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="6" group="基本设置" id="span" name="占位数" value="12">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.complainContent" id="complainContent1" name="主要问题">
        <form:control type="widget/textarea">
          <form:attributes source="widget/textarea">
            <dync:attribute default="3" group="HTML设置" id="rows" name="行高" value="5">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="HTML设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.mainappeal" id="mainappeal1" name="主要诉求">
        <form:control type="widget/textarea">
          <form:attributes source="widget/textarea">
            <dync:attribute default="3" group="HTML设置" id="rows" name="行高" value="5">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="HTML设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="widgetbox10" name="佐证材料（只允许上传图片(支持jpg,jpeg,png,gif)、pdf、word、excel、压缩包文件格式的文件)">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar5" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" id="multipleFileInputIframe" name="选择文件" customize="true">
        <form:control type="widget/file_input_iframe">
          <form:attributes source="widget/file_input_iframe">
            <dync:attribute default="" group="事件" id="onSuccess" name="上传成功" value="multipleFileInputIframe_onSuccess(data)">
              <dync:render colSpan="2" height="0" multi="false" name="event">
                <dync:item name="params" value="data"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="事件" id="onError" name="上传失败" value="multipleFileInputIframe_onError(data)">
              <dync:render colSpan="2" height="0" multi="false" name="event">
                <dync:item name="params" value="data"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="true" group="HTML属性" id="autoSubmit" name="自动提交" value="false">
              <dync:render colSpan="2" height="0" multi="false" name="checkbox"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="数据校验" id="allow" name="允许类型" value="[&quot;jpeg&quot;,&quot;png&quot;,&quot;gif&quot;,&quot;jpg&quot;,&quot;pdf&quot;,&quot;doc&quot;,&quot;docx&quot;,&quot;xls&quot;,&quot;xlsx&quot;,&quot;tar&quot;,&quot;rar&quot;,&quot;zip&quot;]">
              <dync:render colSpan="2" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="dbdir" group="HTML属性" id="process" name="上传处理器" value="todbdir">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Group" id="div4" name="简单容器(DIV)">
        <form:control type="container/div">
          <form:attributes source="container/div">
            <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="height:50px;padding-top:1px">
              <dync:render colSpan="2" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="12" group="HTML配置" id="span" name="占位数" value="2">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="attachinfo_button1" name="上传" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="attachinfo_button_click($event)">
                <dync:render colSpan="1" height="0" multi="false" name="event">
                  <dync:item name="params" value="$event"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
      <form:child xsi:type="form:Group" binding="$model.taJcComplainAttachinfolist" id="taJcComplainAttachinfolist" name="投诉材料信息">
        <form:control type="container/table_jqgrid">
          <form:attributes source="container/table_jqgrid">
            <dync:attribute default="true" group="表格设置" id="multiselect" name="多选" value="false">
              <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="表格设置" id="rownumbers" name="序号" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="表格设置" id="paramData" name="初始化参数" value="{&quot;complainId&quot;:$params.complainId}">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Group" id="toolbar_table1" name="toolbar_table">
          <form:control type="container/toolbar_table">
            <form:attributes source="container/toolbar_table"/>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="attachId" id="attachId1" name="附件ID">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute id="key" value="true">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="complainId" id="complainId1" name="投诉信息ID">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="attachContent" id="attachContent1" name="附件ID">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="attachName" id="attachName1" name="附件名称">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="150" group="基本设置" id="width" name="宽度" value="250">
                <dync:render colSpan="1" height="0" multi="false" name="text"/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="left" group="基本设置" id="align" name="位置" value="center">
                <dync:render colSpan="1" height="0" multi="false" name="select">
                  <dync:item name="左" value="left"/>
                  <dync:item name="中" value="center"/>
                  <dync:item name="右" value="right"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="格式设置" id="customFormatter" name="自定义格式" value="attachName_customFormatter(cellvalue,options,rowObject,dictValueExpression)">
                <dync:render colSpan="2" height="0" multi="false" name="event">
                  <dync:item name="param" value="cellvalue,options,rowObject,dictValueExpression"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="createTime" id="createTime1" name="上传时间">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="left" group="基本设置" id="align" name="位置" value="center">
                <dync:render colSpan="1" height="0" multi="false" name="select">
                  <dync:item name="左" value="left"/>
                  <dync:item name="中" value="center"/>
                  <dync:item name="右" value="right"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="格式设置" id="customFormatter" name="自定义格式" value="createTime_customFormatter(cellvalue,options,rowObject,dictValueExpression)">
                <dync:render colSpan="2" height="0" multi="false" name="event">
                  <dync:item name="param" value="cellvalue,options,rowObject,dictValueExpression"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="datasource" id="datasource1" name="数据来源">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="" group="格式设置" id="customFormatter" name="自定义格式" value="datasource_customFormatter(cellvalue,options,rowObject,dictValueExpression)">
                <dync:render colSpan="2" height="0" multi="false" name="event">
                  <dync:item name="param" value="cellvalue,options,rowObject,dictValueExpression"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="left" group="基本设置" id="align" name="位置" value="center">
                <dync:render colSpan="1" height="0" multi="false" name="select">
                  <dync:item name="左" value="left"/>
                  <dync:item name="中" value="center"/>
                  <dync:item name="右" value="right"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" binding="createrUserId" id="createrUserId1" name="内网附件上传人">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkbox"/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
        <form:child xsi:type="form:Field" id="colJqgrid1" name="操作" customize="true">
          <form:control type="widget/col_jqgrid">
            <form:attributes source="widget/col_jqgrid">
              <dync:attribute default="150" group="基本设置" id="width" name="宽度" value="100">
                <dync:render colSpan="1" height="0" multi="false" name="text"/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="left" group="基本设置" id="align" name="位置" value="center">
                <dync:render colSpan="1" height="0" multi="false" name="select">
                  <dync:item name="左" value="left"/>
                  <dync:item name="中" value="center"/>
                  <dync:item name="右" value="right"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="格式设置" id="customFormatter" name="自定义格式" value="colJqgrid_customFormatter(cellvalue,options,rowObject,dictValueExpression)">
                <dync:render colSpan="2" height="0" multi="false" name="event">
                  <dync:item name="param" value="cellvalue,options,rowObject,dictValueExpression"/>
                </dync:render>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="widgetbox2" name="举报查询码（注意：用于举报查询，请牢记此查询码！）">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar7" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Group" id="widgexbox_toolbar6" name="widgexbox_toolbar">
        <form:control type="container/toolbar_widget">
          <form:attributes source="container/toolbar_widget"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.queryCode" id="queryCode" name="查询码">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="widgetbox3" name="意见信息">
      <form:control type="container/widgetbox">
        <form:attributes source="container/widgetbox"/>
      </form:control>
      <form:child xsi:type="form:Field" binding="$model.entity.commitnum" id="commitnum" name="提交次数">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.caseno" id="caseno" name="受理编号">
        <form:control type="widget/text">
          <form:attributes source="widget/text"/>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.commitmentLimit" id="commitmentLimit" name="办理时限（天）*">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="数据校验" id="required" name="必填项" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="text" group="文本框设置" id="inputType" name="数据类型" value="number">
              <dync:render colSpan="2" height="0" multi="false" name="select">
                <dync:item name="文本" value="text"/>
                <dync:item name="数字" value="number"/>
                <dync:item name="密码" value="password"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="事件设置" id="blur" name="失去焦点" value="commitmentLimit_blur($event)">
              <dync:render colSpan="2" height="0" multi="false" name="event">
                <dync:item name="params" value="$event"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.entity.problemMode" id="problemMode" name="投诉方式">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Group" id="divExpireDate" name="简单容器(DIV)">
        <form:control type="container/div">
          <form:attributes source="container/div"/>
        </form:control>
        <form:child xsi:type="form:Field" binding="$model.entity.expireDate" id="expireDate" name="到期时间">
          <form:control type="widget/text">
            <form:attributes source="widget/text">
              <dync:attribute default="false" group="文本框设置" id="disabled" name="禁用" value="true">
                <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="60">
                <dync:render colSpan="1" height="0" multi="false" name="text"/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
        </form:child>
      </form:child>
      <form:child xsi:type="form:Field" binding="handleIdea" id="handleIdea" name="处理意见 *">
        <form:control type="widget/textarea">
          <form:attributes source="widget/textarea">
            <dync:attribute default="3" group="HTML设置" id="rows" name="行高" value="5">
              <dync:render colSpan="1" height="0" multi="false" name="text"/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="数据校验" id="required" name="必填项" value="true">
              <dync:render colSpan="1" height="0" multi="false" name="checkboxAndExpr"/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" id="div7" name="简单容器(DIV)">
      <form:control type="container/div">
        <form:attributes source="container/div">
          <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="text-align:center;">
            <dync:render colSpan="2" height="0" multi="false" name="text"/>
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:child xsi:type="form:Field" id="button1" name="查看意见" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="button1_click($event)">
              <dync:render colSpan="1" height="0" multi="false" name="event">
                <dync:item name="params" value="$event"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" id="button2" name="通过" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="button2_click($event)">
              <dync:render colSpan="1" height="0" multi="false" name="event">
                <dync:item name="params" value="$event"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" id="button6" name="返回" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="button6_click($event)">
              <dync:render colSpan="1" height="0" multi="false" name="event">
                <dync:item name="params" value="$event"/>
              </dync:render>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
    </form:child>
  </form:child>
  <form:datasources>
    <form:datasource xsi:type="form:EntityDataSource" id="entity" name="单实体数据源" base="service" sn="dzjc_complain/v1/taJcComplainBaseinfo" data="$params.complainId" entity="entity:com.chinacreator.dzjc_complain.taJcComplainBaseinfo">
      <form:entityObj pk="complain_id" restResource="true"/>
    </form:datasource>
    <form:datasource xsi:type="form:PagingDataSource" id="taJcComplainAttachinfolist" name="列表型数据源" base="service" sn="dzjc_complain/v1/taJcComplainAttachinfo" elementType="entity:com.chinacreator.dzjc_complain.taJcComplainAttachinfo" pageSize="10">
      <form:entityObj pk="attach_id" restResource="true"/>
    </form:datasource>
    <form:datasource xsi:type="form:TreeDataSource" id="handleTree" name="树型数据源" base="service" type="url" url="dzjc_complain/v1/getHandleTree"/>
  </form:datasources>
  <form:scripts>//上传
attachinfo_button_click:function($event){
	$view.multipleFileInputIframe.submit({complainId:$model.entity.complainId});
},

//上传成功
multipleFileInputIframe_onSuccess:function(data){
	$view.multipleFileInputIframe.reset();
	Messenger.post({type:'success',message:'上传成功'});
	
	$view.taJcComplainAttachinfolist.refresh({&quot;complainId&quot;:$model.entity.complainId});
},

//上传失败
multipleFileInputIframe_onError:function(data){

	console.log(&quot;data--->&quot;,data);

	if(data != null &amp;&amp; data != &quot;&quot;){
		Messenger.post({type:'error',message:data.errorMsg});
	}else{
		Messenger.post({type:'error',message:'上传失败'});
	}
	
	$view.taJcComplainAttachinfolist.refresh({&quot;complainId&quot;:$model.entity.complainId});
},

//数据来源样式
datasource_customFormatter:function(cellvalue,options,rowObject,dictValueExpression){
	if(cellvalue=='1'){
		return &quot;外网&quot;;
	}else{
		return &quot;内网&quot;;
	}
},

//上传时间样式
createTime_customFormatter:function(cellvalue,options,rowObject,dictValueExpression){
	var unixTimestamp = new Date( cellvalue) ;
	commonTime = unixTimestamp.toLocaleString();
	return commonTime;
},

//材料名称样式
attachName_customFormatter:function(cellvalue,options,rowObject,dictValueExpression){
	return cellvalue.substring(cellvalue.lastIndexOf(&quot;$$&quot;)+2);
},

//操作栏
colJqgrid_customFormatter:function(cellvalue,options,rowObject,dictValueExpression){
	
	var htmls = &quot;&lt;a style='cursor: pointer;' ng-click='functions.attach_download(rowObject);'>下载&lt;/a>&quot;;
			  
	return htmls;
},

//删除材料信息
attach_delete:function(rowObject){

	Modal.openDelConfirm({message:&quot;确定是否删除！&quot;},function(data){
		$http.delete(c2.base(&quot;service&quot;)+&quot;dzjc_complain/v1/taJcComplainAttachinfo/&quot;+rowObject.attachId).success(function(){
			$view.taJcComplainAttachinfolist.refresh({&quot;complainId&quot;:$model.entity.complainId});
		});
	});
},

//下载材料信息
attach_download:function(rowObject){
	var url =&quot;/dzjc/ComplainAttachinfoServlet?attachId=&quot;+rowObject.attachId+&quot;&amp;fileName=&quot;+encodeURIComponent(encodeURIComponent(rowObject.attachName));
	window.location.href =url;
},

//数据源加载后
page_afterDataSourceLoad:function(){
	if($model.entity.isSatisfied == &quot;满意&quot; || $model.entity.isSatisfied == &quot;比较满意&quot;){
		$(&quot;#button&quot;).attr(&quot;disabled&quot;,&quot;true&quot;);//添加disabled属性 
	}
	functions.chulitype_change();
},

//返回
button6_click:function($event){
	Modal.instance.close('isClose');
},

//办理时限,输入天数，计算到期时间
commitmentLimit_blur:function($event){
	var days = commitmentLimit.value;
	if(!/^[1-9]\d*$/.test(days)){
		Messenger.post({type:'error',message:'办理时限不能为空，且只能为非0正整数'});
		$model.entity.expireDate = &quot;&quot;;
		return true;
	}
	
	$.ajax({
		&quot;url&quot; : c2.base(&quot;service&quot;)+&quot;dzjc_complain/v1/taJcComplainBaseinfo/getDqDate/&quot;+days,
		&quot;type&quot; : &quot;get&quot;,
		&quot;dataType&quot;: &quot;text&quot;,
		&quot;async&quot; : false,
		&quot;success&quot; : function(data){
			var myDate=new Date();
			$model.entity.expireDate = data + &quot; &quot; + myDate.toLocaleTimeString('chinese',{hour12:false});
		}
	});
	return false;
},

//预受理
button2_click:function($event){
	$view.button2.setDisabled(true);
	
	if(!/^[1-9]\d*$/.test($model.entity.commitmentLimit)){
		Messenger.post({type:'error',message:'办理时限不能为空，且只能为非0正整数'});
		$(&quot;#commitmentLimit&quot;).focus();
		$model.entity.expireDate = &quot;&quot;;
		$view.button2.setDisabled(false);
		return true;
	}
	
	if(!$model.entity.expireDate){
		if(functions.commitmentLimit_blur()){$view.button2.setDisabled(false);return;}
	}
	
	if(!handleIdea.value){
		Messenger.post({type:'error',message:'处理意见不能为空'});
		$(&quot;#handleIdea&quot;).focus();
		$view.button2.setDisabled(false);
		return;
	}
	
	if(handleIdea.value.length > 500){
		Messenger.post({type:'error',message:'处理意见不能超过500字符'});
		$(&quot;#handleIdea&quot;).focus();
		$view.button2.setDisabled(false);
		return;
	}
	
	Modal.openConfirm({message:&quot;到期时间：&quot;+$model.entity.expireDate+&quot;，是否预受理&quot;},function(){
		var map ={
			&quot;complainId&quot;:$model.entity.complainId,
			&quot;accept&quot;:&quot;yes&quot;,
			&quot;caseno&quot;:$model.entity.caseno,
			&quot;commitmentLimit&quot;:$model.entity.commitmentLimit,
			&quot;expireDate&quot;:$model.entity.expireDate,
			&quot;handleIdea&quot;:handleIdea.value.trim()
		};
		$http.post(c2.base(&quot;service&quot;)+&quot;dzjc_complain/v1/taJcComplainBaseinfo/updateYsl&quot;,map).success(function(data){
			Modal.instance.close();
			Messenger.post({type:'success',message:'预受理成功'});
		});
	},function(){
		$view.button2.setDisabled(false);
	});
	$view.button2.setDisabled(false);
},

//问题类型
problemType1_change:function(){
	
},

//查看意见
button1_click:function($event){
	Modal.open(&quot;f/dzjc_complain/taJcComplainTasklist&quot;,{'complainId':$model.entity.complainId});
}</form:scripts>
  <form:htmls></form:htmls>
</form:Form>
